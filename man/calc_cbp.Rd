% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/calc_burn_probability.R
\name{calc_cbp}
\alias{calc_cbp}
\title{Calculate Conditional Burned Probability (CBP)}
\usage{
calc_cbp(r_stack, FL = 0)
}
\arguments{
\item{r_stack}{A `terra::SpatRaster` object containing multiple layers.
Each layer typically represents fire presence/intensity (e.g., flame length).}

\item{FL}{Numeric value. The flame length threshold. Pixels with values
greater than `FL` are considered burned (default is 0).}
}
\value{
A numeric value representing the overall conditional burned proportion
  across the raster stack.
}
\description{
This function calculates the conditional burned probability from a stack of
flame length raster layers. For each pixel, it counts how many layers have
a flame length value greater than a specified threshold (`FL`) and then
calculates this as a proportion of the total number of layers.
Non-numeric (NA) values in the raster are treated as 0 (not burned).
This function is identical in its implementation to `calc_bp` but is named
`calc_cbp` to reflect its specific use case for conditional probability based on flame length.
}
\examples{
# Create a dummy raster stack for demonstration
library(terra)
r1 <- rast(nrows=10, ncols=10, vals=sample(0:5, 100, replace=TRUE))
r2 <- rast(nrows=10, ncols=10, vals=sample(0:5, 100, replace=TRUE))
r_stack_example <- c(r1, r2)

# Calculate conditional burned probability with default FL=0
cbp_result_0 <- calc_cbp(r_stack = r_stack_example, FL = 0)
print(paste("Conditional Burned Probability (FL=0):", cbp_result_0))

# Calculate conditional burned probability with FL=2
cbp_result_2 <- calc_cbp(r_stack = r_stack_example, FL = 2)
print(paste("Conditional Burned Probability (FL=2):", cbp_result_2))
}
